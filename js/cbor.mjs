let CBOR={encode(r,e){let i=0,o=e||new ArrayBuffer(64,{maxByteLength:64}),f=(o.resizable&&o.resize(o.maxByteLength),new DataView(o)),y=[o],u=CBOR.encodeTag;function l(r,e,t){var n=1+t;if(i+n>o.byteLength){let r=1;for(;r<=o.byteLength||r<=t;)r*=2;o.resizable?o.resize(i):i!=o.byteLength&&y.push(y.pop().slice(0,i)),i=0,o=new ArrayBuffer(r,{maxByteLength:r}),y.push(o),f=new DataView(o)}var a=i;return i+=n,f.setUint8(a,r<<5|e),a+1}function c(r,e,t){var n;return e<24?l(r,e,t):e<256?(n=l(r,24,t+1),f.setUint8(n,e),n+1):e<65536?(n=l(r,25,t+2),f.setUint16(n,e),n+2):(n=l(r,26,t+4),f.setUint32(n,e),n+4)}if(!function e(t){if("number"==typeof t)Number.isInteger(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER?0<=t?t<4294967296?c(0,t,0):t<0x10000000000000000?(r=l(0,27,8),f.setBigUint64(r,BigInt(t))):(r=l(7,27,8),f.setFloat64(r,t)):-4294967296<=t?c(1,-1-t,0):-18446744073709551616n<=t?(r=l(1,27,8),f.setBigUint64(r,BigInt(-1-t))):(r=l(7,26,8),f.setFloat64(r,t)):(r=l(7,27,8),f.setFloat64(r,t));else if("bigint"==typeof t)if(0<=t)if(t<18446744073709551616n){var r=l(0,27,8);f.setBigUint64(r,t)}else{l(6,2,0);for(var n=[];t;)n.unshift(Number(0xffn&t)),t>>=8n;e(new Uint8Array(n).buffer)}else if(-18446744073709551616n<=t){r=l(1,27,8);f.setBigUint64(r,-1n-t)}else{l(6,3,0),t=-1n-t;for(var a=[];t;)a.unshift(Number(0xffn&t)),t>>=8n;e(new Uint8Array(a).buffer)}else if(!1===t)l(7,20,0);else if(!0===t)l(7,21,0);else if(null===t)l(7,22,0);else if(void 0===t)l(7,23,0);else if("string"==typeof t){var i=c(3,(r=(new TextEncoder).encode(t)).length,r.length);new Uint8Array(o).set(r,i)}else if(t instanceof ArrayBuffer)r=c(2,t.byteLength,t.byteLength),new Uint8Array(o).set(new Uint8Array(t),r);else if(t instanceof DataView){i=c(2,t.byteLength,t.byteLength);new Uint8Array(o).set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i)}else if(Array.isArray(t))c(4,t.length,0),t.forEach(e);else{if("object"!=typeof t){for(let r=0;r<256;++r)if(t===CBOR.simple[r])return c(7,r,0);throw Error("unknown simple value")}if(u in t)return c(6,(r=t[u](t))[0],0),e(r[1]);l(5,(i=Object.keys(t)).length,0),i.forEach(r=>{e(r),e(t[r])})}}(r),1==y.length)return o.resizable?o.resize(i):i!=o.byteLength&&(o=o.slice(0,i)),o;let t=0;y.forEach(r=>t+=r.byteLength);e=new ArrayBuffer(t,{maxByteLength:t});let n=new Uint8Array(e);return i=0,y.forEach(r=>{var e=i;i+=r.byteLength,n.set(new Uint8Array(r),e)}),e},decode(l){let o=CBOR.decodeTags,c=0,A=(ArrayBuffer.isView(l)&&(c=l.byteOffset,l=l.buffer),l.byteLength),s=(l=new DataView(l),CBOR.breakCode),f=CBOR._bugs;function w(r,e,t){switch(r){case 0:return e;case 1:return-1-e;case 2:var n=t?new Uint8Array(l.buffer,c,e):l.buffer.slice(c,c+e);return c+=e,n;case 3:{let r=new Uint8Array(l.buffer,c,e);return f.sliceBeforeDecode(l.buffer)&&(r=r.slice(0)),c+=e,(new TextDecoder).decode(r)}case 4:var a=[];for(let r=0;r<e;++r)a.push(B());return a;case 5:var i=Object.create(null);for(let r=0;r<e;++r)i[B()]=B();return i;case 6:return o[e]?o[e](B(!0)):B();case 7:if(256<=e)throw Error("invalid simple value");return CBOR.simple[e]}}function B(r=!1){if(c>=A)throw Error("end of CBOR");var e=l.getUint8(c++),t=e>>5,n=31&e;switch(n){case 24:return w(t,l.getUint8(c++),r);case 25:return 7==t?(a=l.getFloat16(c),c+=2,a):(a=l.getUint16(c),c+=2,w(t,a,r));case 26:return 7==t?(a=l.getFloat32(c),c+=4,a):(a=l.getUint32(c),c+=4,w(t,a,r));case 27:if(7==t)return a=l.getFloat64(c),c+=8,a;var a=l.getBigUint64(c);if(c+=8,a<Number.MAX_SAFE_INTEGER)return w(t,Number(a),r);var i=a;switch(t){case 0:return i;case 1:return-1n-i;default:throw Error("unsupported type for 8-byte length")}return;case 28:case 29:case 30:throw Error("invalid additional CBOR code");case 31:var o=r;switch(t){case 2:{var f=[];let r=0,e=B(!0);for(;e!=s;){if(!(e instanceof Uint8Array))throw Error("indefinite bytes with non-byte item");f.push(e),r+=e.length,e=B(!0)}let t=new Uint8Array(r),n=0;return f.forEach(r=>{t.set(r,n),n+=r.length}),o?t:t.buffer}case 3:{let r="",e=B();for(;e!=s;){if("string"!=typeof e)throw Error("indefinite string with non-string item");r+=e,e=B()}return r}case 4:{var y=[];let r=B();for(;r!=s;)y.push(r),r=B();return y}case 5:{var u=Object.create(null);let r=B();for(;r!=s;)u[r]=B(),r=B();return u}case 7:return s;default:throw Error("invalid indefinite type")}return;default:return w(t,n,r)}}return B()},simple:[],encodeTag:Symbol(),decodeTags:{0:r=>new Date(r),1:r=>new Date(1e3*r),2:e=>{let t=0n;for(let r=0;r<e.length;++r)t=256n*t+BigInt(e[r]);return t},3:e=>{let t=0n;for(let r=0;r<e.length;++r)t=256n*t+BigInt(e[r]);return-1n-t},32:r=>new URL(r),258:r=>new Set(r)},encode16(r,e){var t=new Uint8Array(CBOR.encode(r,e));let n="";for(let r=0;r<t.length;++r)n+=(t[r]>>4).toString(16)+(15&t[r]).toString(16);return n},encode64(r,e){var t=new Uint8Array(CBOR.encode(r,e));let n="";for(let r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return btoa(n)},decode64(r){var e=atob(r),t=new Uint8Array(e.length);for(let r=0;r<t.length;++r)t[r]=e.charCodeAt(r);return CBOR.decode(t)},decode16(e){var t=new Uint8Array(e.length/2);for(let r=0;r<t.length;++r)t[r]=parseInt(e.substr(2*r,2),16);return CBOR.decode(t)},_bugs:(()=>{var t={sliceBeforeDecode:r=>!1};"function"==typeof SharedArrayBuffer&&(t.sliceBeforeDecode=r=>r instanceof SharedArrayBuffer);try{(new TextDecoder).decode(new ArrayBuffer(0,{maxByteLength:1}))}catch(r){let e=t.sliceBeforeDecode;t.sliceBeforeDecode=r=>r.resizable||e(r)}return t})()};for(let r=0;r<256;++r)CBOR.simple[r]=Symbol("CBOR "+r);CBOR.simple[20]=!1,CBOR.simple[21]=!0,CBOR.simple[22]=null,CBOR.simple[23]=void 0,((r,y)=>{function e(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}Date.prototype[r]=r=>[1,+r/1e3],"function"==typeof URL&&(URL.prototype[r]=r=>[32,r.href]),Set.prototype[r]=r=>[258,Array.from(r)];var t="function"==typeof Float16Array;Uint8Array.prototype[r]=r=>[64,e(r)],Int8Array.prototype[r]=r=>[72,e(r)],Uint16Array.prototype[r]=r=>[y?65:69,e(r)],Int16Array.prototype[r]=r=>[y?73:77,e(r)],Uint32Array.prototype[r]=r=>[y?66:70,e(r)],Int32Array.prototype[r]=r=>[y?74:78,e(r)],t&&(Float16Array.prototype[r]=r=>[y?80:84,e(r)]),Float32Array.prototype[r]=r=>[y?81:85,e(r)],Float64Array.prototype[r]=r=>[y?82:86,e(r)];var n=(e,o)=>{let f=e.BYTES_PER_ELEMENT;return r=>{if((r.byteOffset%f||o!=y)&&(r=r.slice()),o!=y){var t=r,n=f;for(let e=0;e<t.length;e+=n)for(let r=0;r<n/2;++r){var a=n-1-r,i=t[e+r];t[e+r]=t[e+a],t[e+a]=i}}return new e(r.buffer,r.byteOffset,r.length/f)}};Object.assign(CBOR.decodeTags,{64:r=>r,65:n(Uint16Array,!0),66:n(Uint32Array,!0),69:n(Uint16Array,!1),70:n(Uint32Array,!1),72:r=>new Int8Array(r.buffer,r.byteOffset,r.length),73:n(Int16Array,!0),74:n(Int32Array,!0),77:n(Int16Array,!1),78:n(Int32Array,!1),80:t&&n(Float16Array,!0),81:n(Float32Array,!0),82:n(Float64Array,!0),84:t&&n(Float16Array,!1),85:n(Float32Array,!1),86:n(Float64Array,!1)}),"function"==typeof BigUint64Array&&"function"==typeof BigInt64Array&&(BigUint64Array.prototype[r]=r=>[y?67:71,e(r)],BigInt64Array.prototype[r]=r=>[y?75:79,e(r)],Object.assign(CBOR.decodeTags,{67:n(BigUint64Array,!0),71:n(BigUint64Array,!1),75:n(BigInt64Array,!0),79:n(BigInt64Array,!1)}))})(CBOR.encodeTag,!!new Uint8Array(new Uint16Array([256]).buffer)[0]),"object"==typeof module&&module?.exports&&(module.exports=CBOR);export default CBOR;
